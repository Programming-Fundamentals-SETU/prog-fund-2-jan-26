#NoteAPI Class

The responsibility for the NoteAPI class is to manage the ArrayList of notes.

![](img/NoteAPI01.png)

---

#Fields

There is only one private field in the class:

- *notes*: This is the ArrayList of Note in the app.  It is initialised at field declaration time. 

---

#Constructor, getter and setter

You will notice that we don't have constructors, getters, setters and toStrings in the above class structure.  You can decide to generate these boilerplate methods for your class, should you wish.  

---

# Helper Method

This helper method will be used by several methods below, so it is a good idea to write it first. 

- `isValidIndex(int)` - This method checks that the index, passed as a parameter is a valid index in the notes ArrayList.  If it is a valid index, return true.  If invalid, return false.

---

#CRUD methods 

## add(Note note)
This method adds a note object to the ArrayList *notes* and returns the boolean result of the add.  


## updateNote(int indexToUpdate, String noteTitle, int notePriority, String noteCategory) 
This method should attempt to retrieve the note stored at the index number passed as a parameter.  If the note:

- doesn't exist, return false, indicating the update was not successful.
- exists, use the Note mutators to update the title, priority and category of the note with the details passed in the parameter list.  Finally, return true to indicate a successful update.


## deleteNote(int indexToDelete)
This method deletes an note at the index parameter (if that index exists) and returns the deleted note object. If the index does not exist in the notes list, then null should be returned. 


## archiveNote(int indexToArchive) 
This method checks that the index passed as a parameter is valid.  If it is:
 
 - valid, the note is retrieved and assuming the note is NOT currently archived AND all the items on the note are complete, the note is then archived and true is returned.  If the note exists, but is already archived or items on the note are still TODO, return false. 
 - invalid, return false.


## archiveNotesWithAllItemsComplete()
This method first checks that active notes are in the ArrayList.  If:

- no active notes exist, return "No active notes stored".
- active notes exist, for every active note, if ALL items in the note are complete, archive the note.  Also build a String of all newly archived notes and return it.  

Hint: remember we wrote a method in Item - checkNoteCompletionStatus()

---

#Counting methods 

- `numberOfNotes()` - returns the number of notes stored in the notes ArrayList. 

- `numberOfArchivedNotes()` - returns the number of ARCHIVED notes stored in the notes ArrayList (i.e. where isNoteArchived is set to true).

- `numberOfActiveNotes()` -  returns the number of ACTIVE notes stored in the notes ArrayList (i.e. where isNoteArchived is set to false).

- `numberOfNotesByCategory(String category)` - returns the number of notes that are stored for the category passed as a parameter. 

- `numberOfNotesByPriority(int priority)` - returns the number of notes that are stored for the priority passed as a parameter. 

- `numberOfItems()` - adds up the number of items stored on ALL the notes in the ArrayList and returns it.

- `numberOfCompleteItems()` - adds up the number of items stored on ALL the notes in the ArrayList where isItemCompleted is set to true.  The number is then returned.

- `numberOfTodoItems()` - adds up the number of items stored on ALL the notes in the ArrayList where isItemCompleted is set to false.  The number is then returned.

---

#Listing methods 

## listAllNotes()
If the notes list is:

- empty, the String "No notes stored" is returned.
- not empty, a String is returned that contains a list of all notes (including their index number) 


## listActiveNotes()
If the notes ArrayList is checked to see if Active notes are stored.  If active notes:

- exist, a String is returned that contains a list of all active notes (including their index number). 
- don't exist, the String "No active notes stored" is returned.


## listArchivedNotes()
The functionality of this method is the same as the listActiveNotes() functionality, except you are dealing with Archived notes, not active ones. 


## listNotesBySelectedCategory(String category)
If the notes list is:

- empty, the String "No notes stored" is returned.
- not empty, but has no notes for the selected category, the String "No notes with category <insert category>" is returned.
- not empty, but has notes for that category, then a String is returned that contains a list of all notes (including their index number).  A nice touch would be to include the number of notes in that category. Sample output could be:

![](img/NoteAPI02.png)  


## listNotesBySelectedPriority(int priority)
The functionality of this method is the same as the listNotesBySelectedCategory(String category) functionality, except you are dealing with Priority, not Category. 


## listTodoItems()
If the notes list is:

- empty, the String "No notes stored" is returned.
- not empty, for every note, for all TODO items, add the note title and the TODO item to a String.  This String is then returned. Sample output could be:

![](img/NoteAPI03.png)  


## listItemStatusByCategory(String category)

If the notes list is:

- empty, the String "No notes stored" is returned.
- not empty, create two strings that will eventually be returned; one for containing TODO items and the other for containing Compelted items.  Then, for every note of the chosen category, add each item to the appropriate string (also keep a tally of how many have been added to each String). When you have finished looking at all notes, build a new return string so it looks something like this: 

![](img/NoteAPI04.png)  


---

# Finding / Searching Methods

## findNote(int index)
This method first checks that the index, passed as a parameter, is valid.  If it is:

- valid, then the note at that index location in the notes ArrayList is returned. 
- not valid, null is returned. 


## searchNotesByTitle(String searchString)

If the notes list is:

- empty, the String "No notes stored" is returned.
- not empty, the title of each note in the notes ArrayList is checked against the searchString passed as a parameter.  If they match, the note is added, along with the index of the note, to a String.  When all notes have been checked, if the String:

    - is still empty, the text "No notes found for: <searchString>" is returned.  
    - is not empty, the String containing all notes that matched is returned.
 

## searchItemByDescription(String searchString)

If the notes list is:

- empty, the String "No notes stored" is returned.
- not empty, for each note, the description of each item is checked against the searchString passed as a parameter.  If they match, the index of the note, the noteTitle and the item is added to a String.  When all notes have been checked, if the String:

    - is still empty, the text "No items found for: <searchString>" is returned.  
    - is not empty, the String containing all items that matched is returned.

---

# Persistence Methods

- `load()` - this method saves the notes ArrayList to an XML file on your hard disk.
- `save()` - this method loads the XML file previously stored on your hard disk into the notes ArrayList. 


---

#JUnit Test class

The test class for NoteAPI [is here](archives/test/NoteAPITest.java).


