#JUnit



TODO 





**NOTE: YOU DO NOT HAVE TO DO THIS STEP IF YOU DON'T WANT TO.  THERE ARE NO ADDITIONAL MARKS IN THE MARKING SCHEME FOR DOING THIS.  HOWEVER, IT WILL HELP YOU IDENTIFY AND FIX BUGS IN YOUR CODE, THEREBY INCREASING YOUR GRADE.**

If your code passes the JUnit tests provided, this means that you will automatically have 65% (ish) (interview permitting!) 

Use of the JUnit tests will significantly help you to improve your code. It is worth the effort of getting it up and running and will also be a help to you when we cover it more fully later in the semester. Go for it!


##Test Classes

For correcting your assignments, we have written four automated test classes.

For the moment, we will look at 

- *PlayerTest*: This class exhaustively tests the methods in the Player class. 

- I will be running these classes over your submitted assignment and correcting based on the results of the tests.  I am releasing them to you so that, prior to submitting your work, you can pre-correct your assignment and make changes / fix your code based on the output of the tests.

The test class for Player is  available [here](archives/test/PlayerTest.java). 
The following steps will show you how to incorporate these into your assignment.


##Creating a Test Folder

In your IntelliJ project, right click on your project name.  When the context menu appears, select *New --> Directory*.  

![](img/test-01.png)

Call the new directory *test*.  


Note that the *src* folder is blue in colour and the *test* one is grey:

![](img/test-02.png)

We need to 'mark' this directory as a test source folder.  To do this, right click on the new *test* folder and when the context menu appears, select *Mark Directory as --> Test Sources Root*: 

![](img/test-03.png)

Your *test* directory should now be green in colour. (This means that Intellij now sees this as the folder to run tests from)


##Bringing in Test Classes

In this assignment, you will be using supplied test classes, so you just need to bring those in rather than creating your own. (Yes, this comes later!).


##Testing Player Class

- We use the Player class as it is the simplest and the best one for you to start with. 

- Write the Player class in the normal way.

- Drag in the PlayerTest class as supplied above (having unzipped it!) into the test directory.

You will notice that a lot of errors exist in the newly added test classes in relation to the *JUnit* imports *annotations* and the *assert* methods:
![](img/test-04.png)

We need to add JUnit to our classpath so that these imports and methods can be recognised.  To do this, click on one of the JUnit imports that is causing an error.  Click on the  lightbulb that appears and then select  *Show Context Actions*. 

![](img/test-05.png)

Click on the  lightbulb that appears and then select *Add Junit4 to Classpath*:

![](img/test-06.png)

Your test class should have no syntax errors now (assuming you have written all the methods in the class and followed all of our naming laid out in the assignment).  


##Running your test class

To run the test class, right click on the test folder and select *Run --> All Tests*.  


![](img/test-07.png)


A new window will appear, reporting the results of the tests.  In our case here, all our tests passed:

![](img/test-08.png)

If you have failing tests, the output could look something like this:

![](img/test-09.png)


##Fixing Errors

If your test class is not compiling i.e. has syntax errors, resist the urge to change the code in the test class.  

![](img/test-10.png)

Instead return to your classes and update your code.  Typical things that could be wrong in your code include:

- class name different (check case sensitivity)
- method names different (check case sensitivity)
- missing methods in your code
- wrong return types in your methods
- etc....

If your test class is compiling but is failing on tests, maybe there is an issue with:

- validation e.g.:
    - validation not included as speced
    - validation only done at constructor level
    - only the *if* part is included (no else)
    - maybe you are checking different values to the test class e.g. > 0 instead of >= 0
    - etc.

- requirements missed e.g.
    - maybe you forgot to include all the requirements for a specific method e.g. in the list methods, you typically should have three return statements...maybe you don't have them all included.

- general bugs e.g.
    - maybe you are updating the wrong field by accident
    - maybe you are forgetting to update something
    - so many different things can go wrong here!

As you make changes to your code, keep running the tests to see your progress.  


##Remaining test classes

Follow the same procedure as above to include the remaining  test classes.

The entire suite of test classes  for the system [is here](archives/test.zip).



