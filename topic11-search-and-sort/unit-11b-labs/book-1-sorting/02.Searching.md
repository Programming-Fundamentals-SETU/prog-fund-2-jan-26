# Searching

Here we will code the search by product name.  We want:

- all products that match to be displayed (along with their index in the List).  
- to be able to do a case-insensitive search i.e. TV is the same as tv.
- include the index number of the product in the list with each returned product. 


## Coding the Search

As the products ArrayList is in the Store class, we will need to write a search method in there. 

Add the following method to Store.java:

~~~
    public String searchByProductName(String productName) {
        String matchingProducts = "";
        for(Product product : products) {
            if (product.getProductName().toUpperCase().contains(productName.toUpperCase())) {
                matchingProducts += products.indexOf(product) + ": " + product + "\n";
            }
        }

        if (matchingProducts.equals("")){
            return "No products match your search";
        }
        else{
            return matchingProducts;
        }
    }
~~~

Note how we are, in the if statement part, catering for different cases.  We converted both the parameter contents and the arraylist contents to uppercase before comparing them.  Also note how we are doing a "contains" check...e.g. if the arraylist had *Peanut Butter* as a product name, and we searched using *butter*, our product would be returned. 

Now return to the Driver and update the searchProductByName() to be:

~~~
    private void searchProductByName() {
        String productName = ScannerInput.readNextLine("Please enter a product name to search by:");
        System.out.println(store.searchByProductName(productName));
    }
~~~


## Testing the search

Run the app and add product names similar to this (save them to the XML file too):

![Test Data](./img/01.png) 

Now test the searching under the following cases:

- varying cases of a stored product e.g. Sugar, sugar, SUGAR.
- substrings of product names e.g. Sug, uga.  All products containing the substring should be returned.
- product names that don't exist.
- empty product name (just hit enter without typing in a name)
- searches on an empty product list (exit the app and return to it to test this). 

